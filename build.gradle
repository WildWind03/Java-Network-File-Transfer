group 'ru.chirikhin'
version '0.1'

apply plugin: 'java'
apply plugin: 'application'

task client(dependsOn:"classes", type: JavaExec) {
    main = 'ru.nsu.networks.chirikhin.filetransfer.client.Main'
    classpath = sourceSets.main.runtimeClasspath
    args = ['./test.tar.gz', '127.0.0.1', '12345']
}

task  server(dependsOn:"classes", type: JavaExec) {
    main = 'ru.nsu.networks.chirikhin.filetransfer.server.Main'
    classpath = sourceSets.main.runtimeClasspath
    args = ['12345']
}

repositories {
    jcenter()
}

dependencies {
    compile 'apache-log4j:log4j:1.2.15'
}